(()=>{"use strict";function e(e){const t={};for(let n=0;n<e.daily.length;n+=1)t[n]={high:e.daily[n].temp.max,low:e.daily[n].temp.min,weather:e.daily[n].weather[0].main,weather_id:e.daily[n].weather[0].id};return t}function t(e){const t={};for(let n=0;n<e.hourly.length;n+=1)t[n]={temp:e.hourly[n].temp,weather_id:e.hourly[n].weather[0].id};return t}const n=document.getElementById("content"),a=document.createElement("input");n.appendChild(a);const i=document.createElement("button");i.innerHTML="Submit",i.addEventListener("click",(()=>{!async function(n){try{const a=await fetch("https://nominatim.openstreetmap.org/?addressdetails=1&q="+n+"&format=json&limit=1",{mode:"cors"}),i=await a.json(),[o,l,r]=[i[0].lat,i[0].lon,i[0].address],d=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+o+"&lon="+l+"&exclude=minutely&appid=f28c637b536fd0079c1b9e884e3468f3",{mode:"cors"}),c=await d.json(),m={location:r,current:{temp:c.current.temp,feels_like:c.current.feels_like,humidity:c.current.humidity,todays_high:c.daily[0].temp.max,todays_low:c.daily[0].temp.min},daily:e(c),hourly:t(c)};console.log(m)}catch(e){console.log(e)}}(a.value)})),n.appendChild(i)})();