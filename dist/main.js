(()=>{"use strict";function t(t){const e={};for(let n=0;n<t.daily.length;n+=1)e[n]={high:t.daily[n].temp.max,low:t.daily[n].temp.min,weather:t.daily[n].weather[0].main,weather_id:t.daily[n].weather[0].id};return e}function e(t){const e={};for(let n=0;n<t.hourly.length;n+=1)e[n]={temp:t.hourly[n].temp,weather_id:t.hourly[n].weather[0].id};return e}!function(){const n=document.getElementById("content"),i=document.createElement("div");i.setAttribute("id","top_bar"),n.appendChild(i);const o=document.createElement("input");o.setAttribute("id","location_input"),i.appendChild(o);const a=document.createElement("button");a.setAttribute("id","submit_button"),a.innerHTML="Submit",a.addEventListener("click",(()=>{!async function(){try{const n=document.getElementById("location_input"),i=await async function(n){try{const i=await fetch("https://nominatim.openstreetmap.org/?addressdetails=1&q="+n+"&format=json&limit=1",{mode:"cors"}),o=await i.json(),[a,c,l]=[o[0].lat,o[0].lon,o[0].display_name],r=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+a+"&lon="+c+"&exclude=minutely&appid=f28c637b536fd0079c1b9e884e3468f3",{mode:"cors"}),d=await r.json(),u={location:l,current:{temp:d.current.temp,feels_like:d.current.feels_like,humidity:d.current.humidity,todays_high:d.daily[0].temp.max,todays_low:d.daily[0].temp.min},daily:t(d),hourly:e(d)};return console.log(u),u}catch(t){}}(n.value);n.value=i.location,function(t){const e=document.createElement("div");e.setAttribute("id","current_forecast_container"),e.innerHTML=t,document.getElementById("content").appendChild(e)}(i.current)}catch(t){console.log(t)}}()})),i.appendChild(a)}()})();