(()=>{"use strict";function e(e){const t={};for(let n=0;n<e.daily.length;n+=1)t[n]={high:e.daily[n].temp.max,low:e.daily[n].temp.min,weather:e.daily[n].weather[0].main,weather_id:e.daily[n].weather[0].id};return t}function t(e){const t={};for(let n=0;n<e.hourly.length;n+=1)t[n]={temp:e.hourly[n].temp,weather_id:e.hourly[n].weather[0].id};return t}const n=document.getElementById("content"),a=document.createElement("input");n.appendChild(a);const o=document.createElement("button");o.innerHTML="Submit",o.addEventListener("click",(()=>{!async function(){try{const o=await async function(n){try{const a=await fetch("https://nominatim.openstreetmap.org/?addressdetails=1&q="+n+"&format=json&limit=1",{mode:"cors"}),o=await a.json(),[i,l,d]=[o[0].lat,o[0].lon,o[0].display_name],c=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+i+"&lon="+l+"&exclude=minutely&appid=f28c637b536fd0079c1b9e884e3468f3",{mode:"cors"}),r=await c.json(),m={location:d,current:{temp:r.current.temp,feels_like:r.current.feels_like,humidity:r.current.humidity,todays_high:r.daily[0].temp.max,todays_low:r.daily[0].temp.min},daily:e(r),hourly:t(r)};return console.log(m),m}catch(e){console.log(e)}}(a.value);n=o,function(e,t){if(null==document.getElementById("address")){const n=document.createElement("div");n.innerHTML=t,e.appendChild(n),n.setAttribute("id","address")}else document.getElementById("address").innerHTML=t}(document.getElementById("content"),n.location)}catch(e){console.log(e)}var n}()})),n.appendChild(o)})();